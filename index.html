<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AMAIDS Hub - Home</title>
<link rel="stylesheet" href="style/main.css">
</head>
<body>
<header>
    <div class="header-container">
        <div class="logo-container">
            <div class="logo-icon">AI</div>
            <div>
                <h1>AMAIDS Hub</h1>
                <div class="subtitle">Applied Mathematics for AI & Data Science</div>
            </div>
        </div>
        <nav>
            <a href="index.html" class="active">Home</a>
            <a href="contributions.html">Contribute</a>
            <a href="about.html">About Major</a>
            <a href="contact.html">Contact Us</a>
        </nav>
    </div>
</header>

<main>
    <section id="intro">
        <h2>Welcome to the Resource Hub</h2>
        <p>This platform provides educational resources for the <strong>Applied Mathematics for Artificial Intelligence and Data Science</strong> program at University of Kasdi Merbah Ouargla. Browse resources by semester, subject, or type.</p>
    </section>
    
   <section id="filters" class="card">
    <h3>Filter Resources</h3>
    <div class="filter-group">
        <div>
            <label class="filter-label">Semester</label>
            <select id="filter-semester" class="filter-control">
                <option value="all">All Semesters</option>
                <option value="1">Semester 1</option>
                <option value="2">Semester 2</option>
                <option value="3">Semester 3</option>
                <option value="4">Semester 4</option>
                <option value="5">Semester 5</option>
                <option value="6">Semester 6</option>
            </select>
        </div>
        <div>
            <label class="filter-label">Subject</label>
            <select id="filter-subject" class="filter-control">
                <option value="all">All Subjects</option>
                <!-- Subjects will be dynamically loaded from JSON -->
            </select>
        </div>
        <div>
            <label class="filter-label">Type</label>
            <select id="filter-type" class="filter-control">
                <option value="all">All Types</option>
                <!-- Types will be dynamically loaded from JSON -->
            </select>
        </div>
    </div>
    <div class="search-container">
        <div class="search-icon">üîç</div>
        <input type="text" id="search-input" class="filter-control" placeholder="Search resources by title or subject...">
    </div>
</section>

    <div class="resource-grid">
    <div class="resource-card fade-in" data-semester="1" data-subject="ALGEBRA1" data-type="Lecture">
        <div class="resource-header">
            <div class="resource-badge semester-1">Sem 1</div>
            <div class="resource-badge badge-lecture">Lecture</div>
        </div>
        <h3 class="resource-title">Algebra1</h3>
        <div class="resource-meta">
            <span class="resource-meta-item">
                üìö ALGEBRA1
            </span>
            <span class="resource-meta-item">
                üìÖ 2025-2026
            </span>
        </div>
        <p>Introduction to linear algebra concepts including vectors, matrices, and transformations.</p>
        <a href="https://drive.google.com/file/d/YOUR_FILE_ID/view" class="resource-link" target="_blank">
            üì• View Resource
        </a>
    </div>
    <!-- More cards will be dynamically added -->
</div>
</main>
<footer>
    <div class="footer-container">
        <div class="footer-section">
            <h4>AMAIDS Hub</h4>
            <p>Resource platform for Applied Mathematics for AI & Data Science program.</p>
            <p>University of Kasdi Merbah Ouargla</p>
        </div>
        <div class="footer-section">
            <h4>Quick Links</h4>
            <a href="index.html">Home</a>
            <a href="contributions.html">Contribute</a>
            <a href="about.html">About Major</a>
            <a href="contact.html">Contact Us</a>
        </div>
        <div class="footer-section">
            <h4>Contact</h4>
            <p>Faculty of Mathematics and Matter Sciences</p>
            <p>University of Kasdi Merbah Ouargla</p>
            <p>Ouargla, Algeria</p>
        </div>
    </div>
    <div class="footer-bottom">
        <p>&copy; 2025 AMAIDS Hub. All rights reserved.</p>
    </div>
</footer>

<script>
// Global variables to store loaded data
let semesterSubjects = {};
let subjectTypes = {};

// Function to load JSON data
async function loadSubjectData() {
    try {
        const response = await fetch('data/subjects.json');
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
        const data = await response.json();
        semesterSubjects = data.semesters || {};
        subjectTypes = data.subjectTypes || {};
        console.log('Data loaded successfully');
        
        // Initialize the filters after data is loaded
        initializeFilters();
    } catch (error) {
        console.error('Error loading subject data:', error);
        // Fallback to default data if JSON fails to load
        semesterSubjects = {
            "1": ["ALGEBRA1", "ANALYSE", "ALGORITHM AND DATA STRUCTURE"],
            "2": ["ANALYSE2", "ALGEBRA2", "PROBABILITY"]
        };
        subjectTypes = {
            "ALGEBRA1": ["Lecture", "TD/Series", "Exam", "TP"],
            "ANALYSE": ["Lecture", "TD/Series", "Exam", "TP"]
        };
        initializeFilters();
    }
}

function initializeFilters() {
    const semesterSelect = document.getElementById('filter-semester');
    const subjectSelect = document.getElementById('filter-subject');
    const typeSelect = document.getElementById('filter-type');
    
    // Update subjects when semester changes
    semesterSelect.addEventListener('change', function() {
        updateSubjectOptions(this.value);
    });
    
    // Update types when subject changes
    subjectSelect.addEventListener('change', function() {
        updateTypeOptions(this.value);
    });
    
    // Initialize with Semester 1 subjects
    updateSubjectOptions('1');
}

function updateSubjectOptions(selectedSemester) {
    const subjectSelect = document.getElementById('filter-subject');
    const typeSelect = document.getElementById('filter-type');
    
    // Clear current subject options (except "All Subjects")
    while (subjectSelect.options.length > 1) {
        subjectSelect.remove(1);
    }
    
    // Clear and reset type filter
    while (typeSelect.options.length > 1) {
        typeSelect.remove(1);
    }
    typeSelect.value = "all";
    
    if (selectedSemester === "all") {
        // For "all semesters", show all subjects from all semesters
        const allSubjects = new Set();
        Object.values(semesterSubjects).forEach(subjects => {
            subjects.forEach(subject => allSubjects.add(subject));
        });
        
        Array.from(allSubjects).sort().forEach(subject => {
            const option = document.createElement('option');
            option.value = subject;
            option.textContent = subject;
            subjectSelect.appendChild(option);
        });
    } else if (semesterSubjects[selectedSemester]) {
        // For specific semester, show only its subjects
        semesterSubjects[selectedSemester].forEach(subject => {
            const option = document.createElement('option');
            option.value = subject;
            option.textContent = subject;
            subjectSelect.appendChild(option);
        });
    }
    
    // Reset subject to "all"
    subjectSelect.value = "all";
}

function updateTypeOptions(selectedSubject) {
    const typeSelect = document.getElementById('filter-type');
    
    // Clear current type options (except "All Types")
    while (typeSelect.options.length > 1) {
        typeSelect.remove(1);
    }
    
    if (selectedSubject === "all") {
        // For "all subjects", show all possible types
        const allTypes = new Set();
        Object.values(subjectTypes).forEach(types => {
            types.forEach(type => allTypes.add(type));
        });
        
        Array.from(allTypes).sort().forEach(type => {
            const option = document.createElement('option');
            option.value = type;
            option.textContent = type;
            typeSelect.appendChild(option);
        });
    } else if (subjectTypes[selectedSubject]) {
        // For specific subject, show only its available types
        subjectTypes[selectedSubject].forEach(type => {
            const option = document.createElement('option');
            option.value = type;
            option.textContent = type;
            typeSelect.appendChild(option);
        });
    }
    
    // Reset type to "all"
    typeSelect.value = "all";
}

// Load data when page loads
document.addEventListener('DOMContentLoaded', loadSubjectData);
</script>

<script src="scripts/app.js"></script>
<script src="scripts/filters.js"></script>
</body>
</html>